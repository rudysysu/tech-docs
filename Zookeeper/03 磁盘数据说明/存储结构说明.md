## 快照
- 异步线程生成快照文件
- 快照文件生成过程中，仍然有新的事务提交，快照文件不是精确到某一时刻的快照文件（Fuzzy快照）
- 这就要求事务操作是幂等的，否则产生不一致。


## 事务日志
- 事务日志频繁 flush 到磁盘，消耗大量磁盘 IO
- 磁盘空间预分配：事务日志剩余空间 < 4KB 时，将文件大小增加 64 MB
- 磁盘预分配的目标：减少磁盘 seek 次数
- 建议：事务日志，采用独立磁盘单独存放


## 参考资料
- https://ningg.top/zookeeper-lesson-9-zookeeper-data-and-storage/